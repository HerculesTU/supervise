(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"),require("../dialog/dialog"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../dialog/dialog"],A)}else{A(CodeMirror)}}})(function(C){function D(H,G,F,E,I){if(H.openDialog){H.openDialog(G,I,{value:E,selectValueOnOpen:true})}else{I(prompt(F,E))}}var A='Jump to line: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use line:column or scroll% syntax)</span>';function B(G,F){var E=Number(F);if(/^[-+]/.test(F)){return G.getCursor().line+E}else{return E-1}}C.commands.jumpToLine=function(F){var E=F.getCursor();D(F,A,"Jump to line:",(E.line+1)+":"+E.ch,function(I){if(!I){return}var G;if(G=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(I)){F.setCursor(B(F,G[1]),Number(G[2]))}else{if(G=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(I)){var H=Math.round(F.lineCount()*Number(G[1])/100);if(/^[-+]/.test(G[1])){H=E.line+H+1}F.setCursor(H-1,E.ch)}else{if(G=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(I)){F.setCursor(B(F,G[1]),E.ch)}}}})};C.keyMap["default"]["Alt-G"]="jumpToLine"});