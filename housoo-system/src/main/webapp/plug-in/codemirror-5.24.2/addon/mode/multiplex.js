(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],A)}else{A(CodeMirror)}}})(function(A){A.multiplexingMode=function(B){var C=Array.prototype.slice.call(arguments,1);function D(H,I,E,F){if(typeof I=="string"){var J=H.indexOf(I,E);return F&&J>-1?J+I.length:J}var G=I.exec(E?H.slice(E):H);return G?G.index+E+(F?G[0].length:0):-1}return{startState:function(){return{outer:A.startState(B),innerActive:null,inner:null}},copyState:function(E){return{outer:A.copyState(B,E.outer),innerActive:E.innerActive,inner:E.innerActive&&A.copyState(E.innerActive.mode,E.inner)}},token:function(K,I){if(!I.innerActive){var F=Infinity,E=K.string;for(var M=0;M<C.length;++M){var N=C[M];var J=D(E,N.open,K.pos);if(J==K.pos){if(!N.parseDelimiters){K.match(N.open)}I.innerActive=N;I.inner=A.startState(N.mode,B.indent?B.indent(I.outer,""):0);return N.delimStyle&&(N.delimStyle+" "+N.delimStyle+"-open")}else{if(J!=-1&&J<F){F=J}}}if(F!=Infinity){K.string=E.slice(0,F)}var L=B.token(K,I.outer);if(F!=Infinity){K.string=E}return L}else{var G=I.innerActive,E=K.string;if(!G.close&&K.sol()){I.innerActive=I.inner=null;return this.token(K,I)}var J=G.close?D(E,G.close,K.pos,G.parseDelimiters):-1;if(J==K.pos&&!G.parseDelimiters){K.match(G.close);I.innerActive=I.inner=null;return G.delimStyle&&(G.delimStyle+" "+G.delimStyle+"-close")}if(J>-1){K.string=E.slice(0,J)}var H=G.mode.token(K,I.inner);if(J>-1){K.string=E}if(J==K.pos&&G.parseDelimiters){I.innerActive=I.inner=null}if(G.innerStyle){if(H){H=H+" "+G.innerStyle}else{H=G.innerStyle}}return H}},indent:function(G,E){var F=G.innerActive?G.innerActive.mode:B;if(!F.indent){return A.Pass}return F.indent(G.innerActive?G.inner:G.outer,E)},blankLine:function(H){var F=H.innerActive?H.innerActive.mode:B;if(F.blankLine){F.blankLine(H.innerActive?H.inner:H.outer)}if(!H.innerActive){for(var E=0;E<C.length;++E){var G=C[E];if(G.open==="\n"){H.innerActive=G;H.inner=A.startState(G.mode,F.indent?F.indent(H.outer,""):0)}}}else{if(H.innerActive.close==="\n"){H.innerActive=H.inner=null}}},electricChars:B.electricChars,innerMode:function(E){return E.inner?{state:E.inner,mode:E.innerActive.mode}:{state:E.outer,mode:B}}}}});