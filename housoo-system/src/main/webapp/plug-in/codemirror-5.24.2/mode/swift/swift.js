(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],A)}else{A(CodeMirror)}}})(function(G){function W(X){var Z={};for(var Y=0;Y<X.length;Y++){Z[X[Y]]=true}return Z}var B=W(["_","var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","open","public","internal","fileprivate","private","deinit","init","new","override","self","subscript","super","convenience","dynamic","final","indirect","lazy","required","static","unowned","unowned(safe)","unowned(unsafe)","weak","as","is","break","case","continue","default","else","fallthrough","for","guard","if","in","repeat","switch","where","while","defer","return","inout","mutating","nonmutating","catch","do","rethrows","throw","throws","try","didSet","get","set","willSet","assignment","associativity","infix","left","none","operator","postfix","precedence","precedencegroup","prefix","right","Any","AnyObject","Type","dynamicType","Self","Protocol","__COLUMN__","__FILE__","__FUNCTION__","__LINE__"]);var A=W(["var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","for"]);var M=W(["true","false","nil","self","super","_"]);var E=W(["Array","Bool","Character","Dictionary","Double","Float","Int","Int8","Int16","Int32","Int64","Never","Optional","Set","String","UInt8","UInt16","UInt32","UInt64","Void"]);var U="+-/*%=|&<>~^?!";var O=":;,.(){}[]";var Q=/^\-?0b[01][01_]*/;var R=/^\-?0o[0-7][0-7_]*/;var H=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/;var V=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/;var P=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/;var D=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;var I=/^\#[A-Za-z]+/;var S=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;function F(c,a,b){if(c.sol()){a.indented=c.indentation()}if(c.eatSpace()){return null}var Z=c.peek();if(Z=="/"){if(c.match("//")){c.skipToEnd();return"comment"}if(c.match("/*")){a.tokenize.push(J);return J(c,a)}}if(c.match(I)){return"builtin"}if(c.match(S)){return"attribute"}if(c.match(Q)){return"number"}if(c.match(R)){return"number"}if(c.match(H)){return"number"}if(c.match(V)){return"number"}if(c.match(D)){return"property"}if(U.indexOf(Z)>-1){c.next();return"operator"}if(O.indexOf(Z)>-1){c.next();c.match("..");return"punctuation"}if(Z=='"'||Z=="'"){c.next();var Y=N(Z);a.tokenize.push(Y);return Y(c,a)}if(c.match(P)){var X=c.current();if(E.hasOwnProperty(X)){return"variable-2"}if(M.hasOwnProperty(X)){return"atom"}if(B.hasOwnProperty(X)){if(A.hasOwnProperty(X)){a.prev="define"}return"keyword"}if(b=="define"){return"def"}return"variable"}c.next();return null}function C(){var X=0;return function(b,Y,a){var Z=F(b,Y,a);if(Z=="punctuation"){if(b.current()=="("){++X}else{if(b.current()==")"){if(X==0){b.backUp(1);Y.tokenize.pop();return Y.tokenize[Y.tokenize.length-1](b,Y)}else{--X}}}}return Z}}function N(X){return function(b,a){var Z,Y=false;while(Z=b.next()){if(Y){if(Z=="("){a.tokenize.push(C());return"string"}Y=false}else{if(Z==X){break}else{Y=Z=="\\"}}}a.tokenize.pop();return"string"}}function J(Y,X){Y.match(/^(?:[^*]|\*(?!\/))*/);if(Y.match("*/")){X.tokenize.pop()}return"comment"}function K(Y,X,Z){this.prev=Y;this.align=X;this.indented=Z}function L(Z,X){var Y=X.match(/^\s*($|\/[\/\*])/,false)?null:X.column()+1;Z.context=new K(Z.context,Y,Z.indented)}function T(X){if(X.context){X.indented=X.context.indented;X.context=X.context.prev}}G.defineMode("swift",function(X){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(d,b){var c=b.prev;b.prev=null;var Z=b.tokenize[b.tokenize.length-1]||F;var a=Z(d,b,c);if(!a||a=="comment"){b.prev=c}else{if(!b.prev){b.prev=a}}if(a=="punctuation"){var Y=/[\(\[\{]|([\]\)\}])/.exec(d.current());if(Y){(Y[1]?T:L)(b,d)}}return a},indent:function(b,Z){var a=b.context;if(!a){return 0}var Y=/^[\]\}\)]/.test(Z);if(a.align!=null){return a.align-(Y?1:0)}return a.indented+(Y?0:X.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}});G.defineMIME("text/x-swift","swift")});