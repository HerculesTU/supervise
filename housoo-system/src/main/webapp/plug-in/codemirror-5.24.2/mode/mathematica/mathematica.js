(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],A)}else{A(CodeMirror)}}})(function(A){A.defineMode("mathematica",function(I,D){var J="[a-zA-Z\\$][a-zA-Z0-9\\$]*";var G="(?:\\d+)";var H="(?:\\.\\d+|\\d+\\.\\d*|\\d+)";var L="(?:\\.\\w+|\\w+\\.\\w*|\\w+)";var N="(?:`(?:`?"+H+")?)";var B=new RegExp("(?:"+G+"(?:\\^\\^"+L+N+"?(?:\\*\\^[+-]?\\d+)?))");var K=new RegExp("(?:"+H+N+"?(?:\\*\\^[+-]?\\d+)?)");var E=new RegExp("(?:`?)(?:"+J+")(?:`(?:"+J+"))*(?:`?)");function F(Q,P){var O;O=Q.next();if(O==='"'){P.tokenize=M;return P.tokenize(Q,P)}if(O==="("){if(Q.eat("*")){P.commentLevel++;P.tokenize=C;return P.tokenize(Q,P)}}Q.backUp(1);if(Q.match(B,true,false)){return"number"}if(Q.match(K,true,false)){return"number"}if(Q.match(/(?:In|Out)\[[0-9]*\]/,true,false)){return"atom"}if(Q.match(/([a-zA-Z\$]+(?:`?[a-zA-Z0-9\$])*::usage)/,true,false)){return"meta"}if(Q.match(/([a-zA-Z\$]+(?:`?[a-zA-Z0-9\$])*::[a-zA-Z\$][a-zA-Z0-9\$]*):?/,true,false)){return"string-2"}if(Q.match(/([a-zA-Z\$][a-zA-Z0-9\$]*\s*:)(?:(?:[a-zA-Z\$][a-zA-Z0-9\$]*)|(?:[^:=>~@\^\&\*\)\[\]'\?,\|])).*/,true,false)){return"variable-2"}if(Q.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+[a-zA-Z\$][a-zA-Z0-9\$]*/,true,false)){return"variable-2"}if(Q.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+/,true,false)){return"variable-2"}if(Q.match(/_+[a-zA-Z\$][a-zA-Z0-9\$]*/,true,false)){return"variable-2"}if(Q.match(/\\\[[a-zA-Z\$][a-zA-Z0-9\$]*\]/,true,false)){return"variable-3"}if(Q.match(/(?:\[|\]|{|}|\(|\))/,true,false)){return"bracket"}if(Q.match(/(?:#[a-zA-Z\$][a-zA-Z0-9\$]*|#+[0-9]?)/,true,false)){return"variable-2"}if(Q.match(E,true,false)){return"keyword"}if(Q.match(/(?:\\|\+|\-|\*|\/|,|;|\.|:|@|~|=|>|<|&|\||_|`|'|\^|\?|!|%)/,true,false)){return"operator"}Q.next();return"error"}function M(S,R){var Q,P=false,O=false;while((Q=S.next())!=null){if(Q==='"'&&!O){P=true;break}O=!O&&Q==="\\"}if(P&&!O){R.tokenize=F}return"string"}function C(R,P){var Q,O;while(P.commentLevel>0&&(O=R.next())!=null){if(Q==="("&&O==="*"){P.commentLevel++}if(Q==="*"&&O===")"){P.commentLevel--}Q=O}if(P.commentLevel<=0){P.tokenize=F}return"comment"}return{startState:function(){return{tokenize:F,commentLevel:0}},token:function(P,O){if(P.eatSpace()){return null}return O.tokenize(P,O)},blockCommentStart:"(*",blockCommentEnd:"*)"}});A.defineMIME("text/x-mathematica",{name:"mathematica"})});