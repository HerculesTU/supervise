(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"),require("../css/css"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../css/css"],A)}else{A(CodeMirror)}}})(function(A){A.defineMode("sass",function(S){var V=A.mimeModes["text/css"];var I=V.propertyKeywords||{},P=V.colorKeywords||{},N=V.valueKeywords||{},L=V.fontProperties||{};function C(X){return new RegExp("^"+X.join("|"))}var B=["true","false","null","auto"];var D=new RegExp("^"+B.join("|"));var T=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"];var G=C(T);var M=/^::?[a-zA-Z_][\w\-]*/;var H;function Q(X){return !X.peek()||X.match(/\s+$/,false)}function E(Z,Y){var X=Z.peek();if(X===")"){Z.next();Y.tokenizer=F;return"operator"}else{if(X==="("){Z.next();Z.eatSpace();return"operator"}else{if(X==="'"||X==='"'){Y.tokenizer=U(Z.next());return"string"}else{Y.tokenizer=U(")",false);return"string"}}}}function R(X,Y){return function(a,Z){if(a.sol()&&a.indentation()<=X){Z.tokenizer=F;return F(a,Z)}if(Y&&a.skipTo("*/")){a.next();a.next();Z.tokenizer=F}else{a.skipToEnd()}return"comment"}}function U(Y,Z){if(Z==null){Z=true}function X(f,c){var e=f.next();var a=f.peek();var b=f.string.charAt(f.pos-2);var d=((e!=="\\"&&a===Y)||(e===Y&&b!=="\\"));if(d){if(e!==Y&&Z){f.next()}if(Q(f)){c.cursorHalf=0}c.tokenizer=F;return"string"}else{if(e==="#"&&a==="{"){c.tokenizer=J(X);f.next();return"operator"}else{return"string"}}}return X}function J(X){return function(Z,Y){if(Z.peek()==="}"){Z.next();Y.tokenizer=X;return"operator"}else{return F(Z,Y)}}}function O(Z){if(Z.indentCount==0){Z.indentCount++;var X=Z.scopes[0].offset;var Y=X+S.indentUnit;Z.scopes.unshift({offset:Y})}}function W(X){if(X.scopes.length==1){return}X.scopes.shift()}function F(a,Z){var Y=a.peek();if(a.match("/*")){Z.tokenizer=R(a.indentation(),true);return Z.tokenizer(a,Z)}if(a.match("//")){Z.tokenizer=R(a.indentation(),false);return Z.tokenizer(a,Z)}if(a.match("#{")){Z.tokenizer=J(F);return"operator"}if(Y==='"'||Y==="'"){a.next();Z.tokenizer=U(Y);return"string"}if(!Z.cursorHalf){if(Y==="-"){if(a.match(/^-\w+-/)){return"meta"}}if(Y==="."){a.next();if(a.match(/^[\w-]+/)){O(Z);return"qualifier"}else{if(a.peek()==="#"){O(Z);return"tag"}}}if(Y==="#"){a.next();if(a.match(/^[\w-]+/)){O(Z);return"builtin"}if(a.peek()==="#"){O(Z);return"tag"}}if(Y==="$"){a.next();a.eatWhile(/[\w-]/);return"variable-2"}if(a.match(/^-?[0-9\.]+/)){return"number"}if(a.match(/^(px|em|in)\b/)){return"unit"}if(a.match(D)){return"keyword"}if(a.match(/^url/)&&a.peek()==="("){Z.tokenizer=E;return"atom"}if(Y==="="){if(a.match(/^=[\w-]+/)){O(Z);return"meta"}}if(Y==="+"){if(a.match(/^\+[\w-]+/)){return"variable-3"}}if(Y==="@"){if(a.match(/@extend/)){if(!a.match(/\s*[\w]/)){W(Z)}}}if(a.match(/^@(else if|if|media|else|for|each|while|mixin|function)/)){O(Z);return"def"}if(Y==="@"){a.next();a.eatWhile(/[\w-]/);return"def"}if(a.eatWhile(/[\w-]/)){if(a.match(/ *: *[\w-\+\$#!\("']/,false)){H=a.current().toLowerCase();var X=Z.prevProp+"-"+H;if(I.hasOwnProperty(X)){return"property"}else{if(I.hasOwnProperty(H)){Z.prevProp=H;return"property"}else{if(L.hasOwnProperty(H)){return"property"}}}return"tag"}else{if(a.match(/ *:/,false)){O(Z);Z.cursorHalf=1;Z.prevProp=a.current().toLowerCase();return"property"}else{if(a.match(/ *,/,false)){return"tag"}else{O(Z);return"tag"}}}}if(Y===":"){if(a.match(M)){return"variable-3"}a.next();Z.cursorHalf=1;return"operator"}}else{if(Y==="#"){a.next();if(a.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)){if(Q(a)){Z.cursorHalf=0}return"number"}}if(a.match(/^-?[0-9\.]+/)){if(Q(a)){Z.cursorHalf=0}return"number"}if(a.match(/^(px|em|in)\b/)){if(Q(a)){Z.cursorHalf=0}return"unit"}if(a.match(D)){if(Q(a)){Z.cursorHalf=0}return"keyword"}if(a.match(/^url/)&&a.peek()==="("){Z.tokenizer=E;if(Q(a)){Z.cursorHalf=0}return"atom"}if(Y==="$"){a.next();a.eatWhile(/[\w-]/);if(Q(a)){Z.cursorHalf=0}return"variable-2"}if(Y==="!"){a.next();Z.cursorHalf=0;return a.match(/^[\w]+/)?"keyword":"operator"}if(a.match(G)){if(Q(a)){Z.cursorHalf=0}return"operator"}if(a.eatWhile(/[\w-]/)){if(Q(a)){Z.cursorHalf=0}H=a.current().toLowerCase();if(N.hasOwnProperty(H)){return"atom"}else{if(P.hasOwnProperty(H)){return"keyword"}else{if(I.hasOwnProperty(H)){Z.prevProp=a.current().toLowerCase();return"property"}else{return"tag"}}}}if(Q(a)){Z.cursorHalf=0;return null}}if(a.match(G)){return"operator"}a.next();return null}function K(c,a){if(c.sol()){a.indentCount=0}var b=a.tokenizer(c,a);var Y=c.current();if(Y==="@return"||Y==="}"){W(a)}if(b!==null){var X=c.pos-Y.length;var f=X+(S.indentUnit*a.indentCount);var d=[];for(var e=0;e<a.scopes.length;e++){var Z=a.scopes[e];if(Z.offset<=f){d.push(Z)}}a.scopes=d}return b}return{startState:function(){return{tokenizer:F,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(Z,Y){var X=K(Z,Y);Y.lastToken={style:X,content:Z.current()};return X},indent:function(X){return X.scopes[0].offset}}});A.defineMIME("text/x-sass","sass")});