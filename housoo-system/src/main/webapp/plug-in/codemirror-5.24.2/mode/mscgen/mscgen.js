(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],A)}else{A(CodeMirror)}}})(function(F){var A={mscgen:{"keywords":["msc"],"options":["hscale","width","arcgradient","wordwraparcs"],"constants":["true","false","on","off"],"attributes":["label","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"],"brackets":["\\{","\\}"],"arcsWords":["note","abox","rbox","box"],"arcsOthers":["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],"singlecomment":["//","#"],"operators":["="]},xu:{"keywords":["msc","xu"],"options":["hscale","width","arcgradient","wordwraparcs","watermark"],"constants":["true","false","on","off","auto"],"attributes":["label","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"],"brackets":["\\{","\\}"],"arcsWords":["note","abox","rbox","box","alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"],"arcsOthers":["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],"singlecomment":["//","#"],"operators":["="]},msgenny:{"keywords":null,"options":["hscale","width","arcgradient","wordwraparcs","watermark"],"constants":["true","false","on","off","auto"],"attributes":null,"brackets":["\\{","\\}"],"arcsWords":["note","abox","rbox","box","alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"],"arcsOthers":["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],"singlecomment":["//","#"],"operators":["="]}};F.defineMode("mscgen",function(J,I){var H=A[I&&I.language||"mscgen"];return{startState:C,copyState:G,token:D(H),lineComment:"#",blockCommentStart:"/*",blockCommentEnd:"*/"}});F.defineMIME("text/x-mscgen","mscgen");F.defineMIME("text/x-xu",{name:"mscgen",language:"xu"});F.defineMIME("text/x-msgenny",{name:"mscgen",language:"msgenny"});function E(H){return new RegExp("\\b("+H.join("|")+")\\b","i")}function B(H){return new RegExp("("+H.join("|")+")","i")}function C(){return{inComment:false,inString:false,inAttributeList:false,inScript:false}}function G(H){return{inComment:H.inComment,inString:H.inString,inAttributeList:H.inAttributeList,inScript:H.inScript}}function D(H){return function(I,J){if(I.match(B(H.brackets),true,true)){return"bracket"}if(!J.inComment){if(I.match(/\/\*[^\*\/]*/,true,true)){J.inComment=true;return"comment"}if(I.match(B(H.singlecomment),true,true)){I.skipToEnd();return"comment"}}if(J.inComment){if(I.match(/[^\*\/]*\*\//,true,true)){J.inComment=false}else{I.skipToEnd()}return"comment"}if(!J.inString&&I.match(/\"(\\\"|[^\"])*/,true,true)){J.inString=true;return"string"}if(J.inString){if(I.match(/[^\"]*\"/,true,true)){J.inString=false}else{I.skipToEnd()}return"string"}if(!!H.keywords&&I.match(E(H.keywords),true,true)){return"keyword"}if(I.match(E(H.options),true,true)){return"keyword"}if(I.match(E(H.arcsWords),true,true)){return"keyword"}if(I.match(B(H.arcsOthers),true,true)){return"keyword"}if(!!H.operators&&I.match(B(H.operators),true,true)){return"operator"}if(!!H.constants&&I.match(B(H.constants),true,true)){return"variable"}if(!H.inAttributeList&&!!H.attributes&&I.match(/\[/,true,true)){H.inAttributeList=true;return"bracket"}if(H.inAttributeList){if(H.attributes!==null&&I.match(E(H.attributes),true,true)){return"attribute"}if(I.match(/]/,true,true)){H.inAttributeList=false;return"bracket"}}I.next();return"base"}}});