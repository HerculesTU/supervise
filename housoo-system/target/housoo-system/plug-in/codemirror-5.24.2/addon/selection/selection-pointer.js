(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],A)}else{A(CodeMirror)}}})(function(F){F.defineOption("selectionPointer",false,function(H,G){var I=H.state.selectionPointer;if(I){F.off(H.getWrapperElement(),"mousemove",I.mousemove);F.off(H.getWrapperElement(),"mouseout",I.mouseout);F.off(window,"scroll",I.windowScroll);H.off("cursorActivity",B);H.off("scroll",B);H.state.selectionPointer=null;H.display.lineDiv.style.cursor=""}if(G){I=H.state.selectionPointer={value:typeof G=="string"?G:"default",mousemove:function(J){D(H,J)},mouseout:function(J){C(H,J)},windowScroll:function(){B(H)},rects:null,mouseX:null,mouseY:null,willUpdate:false};F.on(H.getWrapperElement(),"mousemove",I.mousemove);F.on(H.getWrapperElement(),"mouseout",I.mouseout);F.on(window,"scroll",I.windowScroll);H.on("cursorActivity",B);H.on("scroll",B)}});function D(H,G){var I=H.state.selectionPointer;if(G.buttons==null?G.which:G.buttons){I.mouseX=I.mouseY=null}else{I.mouseX=G.clientX;I.mouseY=G.clientY}E(H)}function C(H,G){if(!H.getWrapperElement().contains(G.relatedTarget)){var I=H.state.selectionPointer;I.mouseX=I.mouseY=null;E(H)}}function B(G){G.state.selectionPointer.rects=null;E(G)}function E(G){if(!G.state.selectionPointer.willUpdate){G.state.selectionPointer.willUpdate=true;setTimeout(function(){A(G);G.state.selectionPointer.willUpdate=false},50)}}function A(L){var M=L.state.selectionPointer;if(!M){return}if(M.rects==null&&M.mouseX!=null){M.rects=[];if(L.somethingSelected()){for(var K=L.display.selectionDiv.firstChild;K;K=K.nextSibling){M.rects.push(K.getBoundingClientRect())}}}var I=false;if(M.mouseX!=null){for(var H=0;H<M.rects.length;H++){var J=M.rects[H];if(J.left<=M.mouseX&&J.right>=M.mouseX&&J.top<=M.mouseY&&J.bottom>=M.mouseY){I=true}}}var G=I?M.value:"";if(L.display.lineDiv.style.cursor!=G){L.display.lineDiv.style.cursor=G}}});