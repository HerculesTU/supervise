(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"),require("../yaml/yaml"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../yaml/yaml"],A)}else{A(CodeMirror)}}})(function(C){var D=0,A=1,B=2;C.defineMode("yaml-frontmatter",function(F,E){var I=C.getMode(F,"yaml");var G=C.getMode(F,E&&E.base||"gfm");function H(J){return J.state==B?G:I}return{startState:function(){return{state:D,inner:C.startState(I)}},copyState:function(J){return{state:J.state,inner:C.copyState(H(J),J.inner)}},token:function(M,L){if(L.state==D){if(M.match(/---/,false)){L.state=A;return I.token(M,L.inner)}else{L.state=B;L.inner=C.startState(G);return G.token(M,L.inner)}}else{if(L.state==A){var J=M.sol()&&M.match(/---/,false);var K=I.token(M,L.inner);if(J){L.state=B;L.inner=C.startState(G)}return K}else{return G.token(M,L.inner)}}},innerMode:function(J){return{mode:H(J),state:J.inner}},blankLine:function(K){var J=H(K);if(J.blankLine){return J.blankLine(K.inner)}}}})});