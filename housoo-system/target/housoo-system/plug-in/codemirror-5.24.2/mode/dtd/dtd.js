(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],A)}else{A(CodeMirror)}}})(function(A){A.defineMode("dtd",function(B){var C=B.indentUnit,G;function I(J,K){G=K;return J}function E(M,K){var J=M.next();if(J=="<"&&M.eat("!")){if(M.eatWhile(/[\-]/)){K.tokenize=F;return F(M,K)}else{if(M.eatWhile(/[\w]/)){return I("keyword","doindent")}}}else{if(J=="<"&&M.eat("?")){K.tokenize=D("meta","?>");return I("meta",J)}else{if(J=="#"&&M.eatWhile(/[\w]/)){return I("atom","tag")}else{if(J=="|"){return I("keyword","seperator")}else{if(J.match(/[\(\)\[\]\-\.,\+\?>]/)){return I(null,J)}else{if(J.match(/[\[\]]/)){return I("rule",J)}else{if(J=='"'||J=="'"){K.tokenize=H(J);return K.tokenize(M,K)}else{if(M.eatWhile(/[a-zA-Z\?\+\d]/)){var L=M.current();if(L.substr(L.length-1,L.length).match(/\?|\+/)!==null){M.backUp(1)}return I("tag","tag")}else{if(J=="%"||J=="*"){return I("number","number")}else{M.eatWhile(/[\w\\\-_%.{,]/);return I(null,null)}}}}}}}}}}function F(M,L){var J=0,K;while((K=M.next())!=null){if(J>=2&&K==">"){L.tokenize=E;break}J=(K=="-")?J+1:0}return I("comment","comment")}function H(J){return function(N,M){var K=false,L;while((L=N.next())!=null){if(L==J&&!K){M.tokenize=E;break}K=!K&&L=="\\"}return I("string","tag")}}function D(K,J){return function(M,L){while(!M.eol()){if(M.match(J)){L.tokenize=E;break}M.next()}return K}}return{startState:function(J){return{tokenize:E,baseIndent:J||0,stack:[]}},token:function(M,L){if(M.eatSpace()){return null}var K=L.tokenize(M,L);var J=L.stack[L.stack.length-1];if(M.current()=="["||G==="doindent"||G=="["){L.stack.push("rule")}else{if(G==="endtag"){L.stack[L.stack.length-1]="endtag"}else{if(M.current()=="]"||G=="]"||(G==">"&&J=="rule")){L.stack.pop()}else{if(G=="["){L.stack.push("[")}}}}return K},indent:function(L,J){var K=L.stack.length;if(J.match(/\]\s+|\]/)){K=K-1}else{if(J.substr(J.length-1,J.length)===">"){if(J.substr(0,1)==="<"){}else{if(G=="doindent"&&J.length>1){}else{if(G=="doindent"){K--}else{if(G==">"&&J.length>1){}else{if(G=="tag"&&J!==">"){}else{if(G=="tag"&&L.stack[L.stack.length-1]=="rule"){K--}else{if(G=="tag"){K++}else{if(J===">"&&L.stack[L.stack.length-1]=="rule"&&G===">"){K--}else{if(J===">"&&L.stack[L.stack.length-1]=="rule"){}else{if(J.substr(0,1)!=="<"&&J.substr(0,1)===">"){K=K-1}else{if(J===">"){}else{K=K-1}}}}}}}}}}}if(G==null||G=="]"){K--}}}return L.baseIndent+K*C},electricChars:"]>"}});A.defineMIME("application/xml-dtd","dtd")});