(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],A)}else{A(CodeMirror)}}})(function(C){function A(E,F){for(var D=0;D<E.length;D++){F(E[D],D)}}function B(E,F){for(var D=0;D<E.length;D++){if(F(E[D],D)){return true}}return false}C.defineMode("dylan",function(P){var N={unnamedDefinition:["interface"],namedDefinition:["module","library","macro","C-struct","C-union","C-function","C-callable-wrapper"],typeParameterizedDefinition:["class","C-subtype","C-mapped-subtype"],otherParameterizedDefinition:["method","function","C-variable","C-address"],constantSimpleDefinition:["constant"],variableSimpleDefinition:["variable"],otherSimpleDefinition:["generic","domain","C-pointer-type","table"],statement:["if","block","begin","method","case","for","select","when","unless","until","while","iterate","profiling","dynamic-bind"],separator:["finally","exception","cleanup","else","elseif","afterwards"],other:["above","below","by","from","handler","in","instance","let","local","otherwise","slot","subclass","then","to","keyed-by","virtual"],signalingCalls:["signal","error","cerror","break","check-type","abort"]};N["otherDefinition"]=N["unnamedDefinition"].concat(N["namedDefinition"]).concat(N["otherParameterizedDefinition"]);N["definition"]=N["typeParameterizedDefinition"].concat(N["otherDefinition"]);N["parameterizedDefinition"]=N["typeParameterizedDefinition"].concat(N["otherParameterizedDefinition"]);N["simpleDefinition"]=N["constantSimpleDefinition"].concat(N["variableSimpleDefinition"]).concat(N["otherSimpleDefinition"]);N["keyword"]=N["statement"].concat(N["separator"]).concat(N["other"]);var H="[-_a-zA-Z?!*@<>$%]+";var L=new RegExp("^"+H);var G={symbolKeyword:H+":",symbolClass:"<"+H+">",symbolGlobal:"\\*"+H+"\\*",symbolConstant:"\\$"+H};var Q={symbolKeyword:"atom",symbolClass:"tag",symbolGlobal:"variable-2",symbolConstant:"variable-3"};for(var F in G){if(G.hasOwnProperty(F)){G[F]=new RegExp("^"+G[F])}}G["keyword"]=[/^with(?:out)?-[-_a-zA-Z?!*@<>$%]+/];var E={};E["keyword"]="keyword";E["definition"]="def";E["simpleDefinition"]="def";E["signalingCalls"]="builtin";var D={};var I={};A(["keyword","definition","simpleDefinition","signalingCalls"],function(R){A(N[R],function(S){D[S]=R;I[S]=E[R]})});function M(T,S,R){S.tokenize=R;return R(T,S)}function K(V,T){var S=V.peek();if(S=="'"||S=='"'){V.next();return M(V,T,O(S,"string"))}else{if(S=="/"){V.next();if(V.eat("*")){return M(V,T,J)}else{if(V.eat("/")){V.skipToEnd();return"comment"}}V.backUp(1)}else{if(/[+\-\d\.]/.test(S)){if(V.match(/^[+-]?[0-9]*\.[0-9]*([esdx][+-]?[0-9]+)?/i)||V.match(/^[+-]?[0-9]+([esdx][+-]?[0-9]+)/i)||V.match(/^[+-]?\d+/)){return"number"}}else{if(S=="#"){V.next();S=V.peek();if(S=='"'){V.next();return M(V,T,O('"',"string"))}else{if(S=="b"){V.next();V.eatWhile(/[01]/);return"number"}else{if(S=="x"){V.next();V.eatWhile(/[\da-f]/i);return"number"}else{if(S=="o"){V.next();V.eatWhile(/[0-7]/);return"number"}else{if(S=="#"){V.next();return"punctuation"}else{if((S=="[")||(S=="(")){V.next();return"bracket"}else{if(V.match(/f|t|all-keys|include|key|next|rest/i)){return"atom"}else{V.eatWhile(/[-a-zA-Z]/);return"error"}}}}}}}}else{if(S=="~"){V.next();S=V.peek();if(S=="="){V.next();S=V.peek();if(S=="="){V.next();return"operator"}return"operator"}return"operator"}else{if(S==":"){V.next();S=V.peek();if(S=="="){V.next();return"operator"}else{if(S==":"){V.next();return"punctuation"}}}else{if("[](){}".indexOf(S)!=-1){V.next();return"bracket"}else{if(".,".indexOf(S)!=-1){V.next();return"punctuation"}else{if(V.match("end")){return"keyword"}}}}}}}}}for(var R in G){if(G.hasOwnProperty(R)){var U=G[R];if((U instanceof Array&&B(U,function(W){return V.match(W)}))||V.match(U)){return Q[R]}}}if(/[+\-*\/^=<>&|]/.test(S)){V.next();return"operator"}if(V.match("define")){return"def"}else{V.eatWhile(/[\w\-]/);if(D.hasOwnProperty(V.current())){return I[V.current()]}else{if(V.current().match(L)){return"variable"}else{V.next();return"variable-2"}}}}function J(W,T){var V=false,S=false,R=0,U;while((U=W.next())){if(U=="/"&&V){if(R>0){R--}else{T.tokenize=K;break}}else{if(U=="*"&&S){R++}}V=(U=="*");S=(U=="/")}return"comment"}function O(R,S){return function(X,V){var U=false,W,T=false;while((W=X.next())!=null){if(W==R&&!U){T=true;break}U=!U&&W=="\\"}if(T||!U){V.tokenize=K}return S}}return{startState:function(){return{tokenize:K,currentIndent:0}},token:function(T,S){if(T.eatSpace()){return null}var R=S.tokenize(T,S);return R},blockCommentStart:"/*",blockCommentEnd:"*/"}});C.defineMIME("text/x-dylan","dylan")});