(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],A)}else{A(CodeMirror)}}})(function(A){A.defineMode("fcl",function(B){var C=B.indentUnit;var G={"term":true,"method":true,"accu":true,"rule":true,"then":true,"is":true,"and":true,"or":true,"if":true,"default":true};var E={"var_input":true,"var_output":true,"fuzzify":true,"defuzzify":true,"function_block":true,"ruleblock":true};var K={"end_ruleblock":true,"end_defuzzify":true,"end_function_block":true,"end_fuzzify":true,"end_var":true};var M={"true":true,"false":true,"nan":true,"real":true,"min":true,"max":true,"cog":true,"cogs":true};var L=/[+\-*&^%:=<>!|\/]/;function H(Q,P){var O=Q.next();if(/[\d\.]/.test(O)){if(O=="."){Q.match(/^[0-9]+([eE][\-+]?[0-9]+)?/)}else{if(O=="0"){Q.match(/^[xX][0-9a-fA-F]+/)||Q.match(/^0[0-7]+/)}else{Q.match(/^[0-9]*\.?[0-9]*([eE][\-+]?[0-9]+)?/)}}return"number"}if(O=="/"||O=="("){if(Q.eat("*")){P.tokenize=D;return D(Q,P)}if(Q.eat("/")){Q.skipToEnd();return"comment"}}if(L.test(O)){Q.eatWhile(L);return"operator"}Q.eatWhile(/[\w\$_\xa1-\uffff]/);var N=Q.current().toLowerCase();if(G.propertyIsEnumerable(N)||E.propertyIsEnumerable(N)||K.propertyIsEnumerable(N)){return"keyword"}if(M.propertyIsEnumerable(N)){return"atom"}return"variable"}function D(Q,O){var P=false,N;while(N=Q.next()){if((N=="/"||N==")")&&P){O.tokenize=H;break}P=(N=="*")}return"comment"}function F(R,Q,N,P,O){this.indented=R;this.column=Q;this.type=N;this.align=P;this.prev=O}function J(P,O,N){return P.context=new F(P.indented,O,N,null,P.context)}function I(O){if(!O.context.prev){return}var N=O.context.type;if(N=="end_block"){O.indented=O.context.indented}return O.context=O.context.prev}return{startState:function(N){return{tokenize:null,context:new F((N||0)-C,0,"top",false),indented:0,startOfLine:true}},token:function(R,P){var Q=P.context;if(R.sol()){if(Q.align==null){Q.align=false}P.indented=R.indentation();P.startOfLine=true}if(R.eatSpace()){return null}var O=(P.tokenize||H)(R,P);if(O=="comment"){return O}if(Q.align==null){Q.align=true}var N=R.current().toLowerCase();if(E.propertyIsEnumerable(N)){J(P,R.column(),"end_block")}else{if(K.propertyIsEnumerable(N)){I(P)}}P.startOfLine=false;return O},indent:function(Q,O){if(Q.tokenize!=H&&Q.tokenize!=null){return 0}var P=Q.context;var N=K.propertyIsEnumerable(O);if(P.align){return P.column+(N?0:1)}else{return P.indented+(N?0:C)}},electricChars:"ryk",fold:"brace",blockCommentStart:"(*",blockCommentEnd:"*)",lineComment:"//"}});A.defineMIME("text/x-fcl","fcl")});