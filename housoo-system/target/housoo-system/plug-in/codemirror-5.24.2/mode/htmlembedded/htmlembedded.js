(function(A){if(typeof exports=="object"&&typeof module=="object"){A(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/multiplex"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/multiplex"],A)}else{A(CodeMirror)}}})(function(A){A.defineMode("htmlembedded",function(C,B){return A.multiplexingMode(A.getMode(C,"htmlmixed"),{open:B.open||B.scriptStartRegex||"<%",close:B.close||B.scriptEndRegex||"%>",mode:A.getMode(C,B.scriptingModeSpec)})},"htmlmixed");A.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"});A.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"});A.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"});A.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})});